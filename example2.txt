This example is more detailed it is an update of example 1.